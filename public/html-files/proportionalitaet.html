<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Direkte und Indirekte Proportionalität</title>
    <style>
        :root {
            --bg-color: #f5f5f5;
            --text-color: #333;
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --card-bg: #fff;
            --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            --slider-bg: #d3d3d3;
            --slider-thumb: #3498db;
            --button-bg: #3498db;
            --button-text: white;
            --toggle-bg: #333;
            --toggle-circle: #fff;
        }

        [data-theme="dark"] {
            --bg-color: #222;
            --text-color: #eee;
            --primary-color: #4fa3d1;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --card-bg: #333;
            --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            --slider-bg: #555;
            --slider-thumb: #4fa3d1;
            --button-bg: #4fa3d1;
            --button-text: white;
            --toggle-bg: #eee;
            --toggle-circle: #222;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: all 0.3s ease;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 20px 0;
            position: relative;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        h2 {
            font-size: 1.8rem;
            margin: 30px 0 15px;
            color: var(--primary-color);
        }

        h3 {
            font-size: 1.4rem;
            margin: 20px 0 10px;
            color: var(--secondary-color);
        }

        p {
            margin-bottom: 15px;
        }

        .theme-toggle {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 30px;
            background-color: var(--toggle-bg);
            border-radius: 15px;
            display: flex;
            align-items: center;
            padding: 0 5px;
            cursor: pointer;
        }

        .toggle-circle {
            width: 22px;
            height: 22px;
            background-color: var(--toggle-circle);
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        [data-theme="dark"] .toggle-circle {
            transform: translateX(30px);
        }

        .intro {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 40px;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: var(--card-shadow);
        }

        .example-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-around;
            margin: 30px 0;
        }

        .example-box {
            flex: 1;
            min-width: 300px;
            max-width: 500px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--card-shadow);
            background-color: var(--card-bg);
        }

        .slider-container {
            margin: 20px 0;
        }

        .slider {
            width: 100%;
            height: 15px;
            border-radius: 5px;
            background: var(--slider-bg);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--slider-thumb);
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: var(--slider-thumb);
            cursor: pointer;
        }

        .values-display {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .graph-container {
            width: 100%;
            height: 300px;
            margin: 30px 0;
            position: relative;
        }

        .graph {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            border-left: 2px solid var(--text-color);
            border-bottom: 2px solid var(--text-color);
            position: relative;
        }

        .graph-bar {
            background-color: var(--primary-color);
            margin: 0 5px;
            transition: height 0.3s ease;
            position: relative;
        }

        .graph-line {
            position: absolute;
            stroke: var(--primary-color);
            stroke-width: 2px;
            fill: none;
            width: 100%;
            height: 100%;
        }
        
        .function-line {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .x-axis, .y-axis {
            position: absolute;
            color: var(--text-color);
            font-size: 0.8rem;
        }

        .x-axis {
            bottom: -20px;
            width: 100%;
            display: flex;
            justify-content: space-around;
        }

        .y-axis {
            position: absolute;
            left: -40px;
            height: 100%;
            display: flex;
            flex-direction: column-reverse;
            justify-content: space-between;
            align-items: flex-end;
            padding: 0;
        }
        
        .y-axis span {
            transform: translateY(-50%);
            margin-right: 5px;
        }

        .practice-problem {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: var(--card-shadow);
        }

        .input-group {
            margin: 15px 0;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        button {
            padding: 10px 20px;
            background-color: var(--button-bg);
            color: var(--button-text);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
        }

        button:hover {
            opacity: 0.9;
        }

        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }

        .correct {
            background-color: rgba(46, 204, 113, 0.2);
            color: #2ecc71;
        }

        .incorrect {
            background-color: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .tip {
            font-style: italic;
            color: var(--secondary-color);
            margin: 10px 0;
        }

        .conclusion {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            background-color: var(--card-bg);
            border-radius: 10px;
            box-shadow: var(--card-shadow);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: center;
            border: 1px solid var(--text-color);
        }

        th {
            background-color: var(--primary-color);
            color: white;
        }

        tr:nth-child(even) {
            background-color: rgba(0, 0, 0, 0.05);
        }

        .formula {
            text-align: center;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 5px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .example-container {
                flex-direction: column;
            }

            .example-box {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>Direkte und Indirekte Proportionalität</h1>
        <p>Eine interaktive Einführung für Mathematik-Einsteiger</p>
        <div class="theme-toggle" id="themeToggle">
            <div class="toggle-circle"></div>
        </div>
    </header>

    <div class="intro">
        <p>Willkommen zu unserer interaktiven Lektion über Proportionalität! Vielleicht klingt das kompliziert, aber keine Sorge - wir werden diese Konzepte gemeinsam ganz einfach verstehen.</p>
        <p>In dieser Lektion lernst du:</p>
        <ul>
            <li>Was direkte Proportionalität bedeutet</li>
            <li>Was indirekte (umgekehrte) Proportionalität bedeutet</li>
            <li>Wie man diese Konzepte in Alltagssituationen erkennt und anwendet</li>
        </ul>
    </div>

    <div class="card">
        <h2>Was ist Proportionalität?</h2>
        <p>Proportionalität beschreibt die Beziehung zwischen zwei Größen und wie sie sich zueinander verändern. Im Alltag begegnen uns solche Beziehungen ständig:</p>
        <ul>
            <li>Je mehr Äpfel du kaufst, desto mehr musst du bezahlen</li>
            <li>Je schneller du fährst, desto weniger Zeit brauchst du für eine Strecke</li>
            <li>Je mehr Arbeiter an einem Projekt arbeiten, desto schneller wird es fertig</li>
        </ul>
        <p>Es gibt zwei Hauptarten von Proportionalität:</p>
        <ul>
            <li><strong>Direkte Proportionalität:</strong> Wenn eine Größe zunimmt, nimmt die andere auch zu</li>
            <li><strong>Indirekte Proportionalität:</strong> Wenn eine Größe zunimmt, nimmt die andere ab</li>
        </ul>
    </div>

    <section>
        <h2>Direkte Proportionalität</h2>
        <div class="card">
            <h3>Was ist direkte Proportionalität?</h3>
            <p>Bei einer direkten Proportionalität gilt: Wenn sich eine Größe verdoppelt, verdoppelt sich auch die andere. Wenn sich eine Größe verdreifacht, verdreifacht sich auch die andere.</p>
            
            <p>Mathematisch ausgedrückt: Zwei Größen x und y sind direkt proportional zueinander, wenn ihr Verhältnis konstant ist:</p>
            
            <div class="formula">
                <strong>y/x = k</strong> oder <strong>y = k·x</strong> (wobei k eine Konstante ist)
            </div>
            
            <h3>Alltags-Beispiel: Einkaufen</h3>
            <p>Wenn Äpfel 2€ pro Kilogramm kosten, dann gilt:</p>
            
            <table>
                <tr>
                    <th>Kilogramm Äpfel (x)</th>
                    <th>Preis in Euro (y)</th>
                    <th>Verhältnis (y/x)</th>
                </tr>
                <tr>
                    <td>1 kg</td>
                    <td>2 €</td>
                    <td>2 €/kg</td>
                </tr>
                <tr>
                    <td>2 kg</td>
                    <td>4 €</td>
                    <td>2 €/kg</td>
                </tr>
                <tr>
                    <td>3 kg</td>
                    <td>6 €</td>
                    <td>2 €/kg</td>
                </tr>
                <tr>
                    <td>4 kg</td>
                    <td>8 €</td>
                    <td>2 €/kg</td>
                </tr>
            </table>
            
            <p>Siehst du? Das Verhältnis y/x (hier 2 €/kg) bleibt immer gleich. Das ist ein Kennzeichen für direkte Proportionalität.</p>
        </div>

        <div class="example-box">
            <h3>Interaktives Beispiel: Einkauf von Äpfeln</h3>
            <p>Bewege den Schieberegler, um die Menge der Äpfel zu ändern. Beobachte, wie sich der Preis ändert.</p>
            
            <div class="slider-container">
                <label for="direct-slider">Menge der Äpfel (in kg):</label>
                <input type="range" min="1" max="10" value="1" class="slider" id="direct-slider">
                <div style="margin-top: 10px;">
                    <input type="checkbox" id="direct-line-toggle" checked>
                    <label for="direct-line-toggle">Funktionslinie anzeigen</label>
                </div>
            </div>
            
            <div class="values-display">
                <div>
                    <span>Kilogramm: </span>
                    <span id="direct-value-x">1</span>
                </div>
                <div>
                    <span>Preis (€): </span>
                    <span id="direct-value-y">2</span>
                </div>
            </div>
            
            <div class="graph-container">
                <div class="graph" id="direct-graph">
                    <!-- Punkte werden durch JavaScript hinzugefügt -->
                </div>
                <div class="x-axis" id="direct-x-axis">
                    <span>0</span>
                    <span>2</span>
                    <span>4</span>
                    <span>6</span>
                    <span>8</span>
                    <span>10</span>
                </div>
                <div class="y-axis" id="direct-y-axis">
                    <span>0€</span>
                    <span>5€</span>
                    <span>10€</span>
                    <span>15€</span>
                    <span>20€</span>
                </div>
            </div>
            
            <div class="tip">
                <p>Tipp: Bei direkter Proportionalität ergibt sich immer eine Gerade durch den Ursprung im Koordinatensystem.</p>
            </div>
        </div>

        <div class="practice-problem">
            <h3>Übungsaufgabe: Direkte Proportionalität</h3>
            <p>Ein Auto verbraucht 6 Liter Benzin auf 100 Kilometer. Wie viel Liter verbraucht es auf einer Strecke von 250 Kilometern?</p>
            
            <div class="input-group">
                <label for="direct-problem-input">Deine Antwort (in Liter):</label>
                <input type="number" id="direct-problem-input" step="0.1">
            </div>
            
            <button id="direct-problem-check">Überprüfen</button>
            
            <div class="feedback" id="direct-problem-feedback"></div>
            
            <div class="tip">
                <p>Hinweis: Setze das Verhältnis zwischen Benzinverbrauch und Strecke auf. Da es sich um direkte Proportionalität handelt, bleibt das Verhältnis konstant.</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Indirekte Proportionalität</h2>
        <div class="card">
            <h3>Was ist indirekte Proportionalität?</h3>
            <p>Bei einer indirekten Proportionalität gilt: Wenn sich eine Größe verdoppelt, halbiert sich die andere. Wenn sich eine Größe verdreifacht, wird die andere dreimal kleiner.</p>
            
            <p>Mathematisch ausgedrückt: Zwei Größen x und y sind indirekt proportional zueinander, wenn ihr Produkt konstant ist:</p>
            
            <div class="formula">
                <strong>x·y = k</strong> oder <strong>y = k/x</strong> (wobei k eine Konstante ist)
            </div>
            
            <h3>Alltags-Beispiel: Arbeitszeit</h3>
            <p>Wenn ein Arbeiter 8 Stunden braucht, um einen Zaun zu streichen, wie lange brauchen mehrere Arbeiter für dieselbe Aufgabe?</p>
            
            <table>
                <tr>
                    <th>Anzahl Arbeiter (x)</th>
                    <th>Benötigte Zeit in Stunden (y)</th>
                    <th>Produkt (x·y)</th>
                </tr>
                <tr>
                    <td>1</td>
                    <td>8</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>4</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>2</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>1</td>
                    <td>8</td>
                </tr>
            </table>
            
            <p>Siehst du? Das Produkt x·y (hier 8 Arbeiter-Stunden) bleibt immer gleich. Das ist ein Kennzeichen für indirekte Proportionalität.</p>
        </div>

        <div class="example-box">
            <h3>Interaktives Beispiel: Arbeiter und Arbeitszeit</h3>
            <p>Bewege den Schieberegler, um die Anzahl der Arbeiter zu ändern. Beobachte, wie sich die benötigte Zeit ändert.</p>
            
            <div class="slider-container">
                <label for="indirect-slider">Anzahl der Arbeiter:</label>
                <input type="range" min="1" max="8" value="1" class="slider" id="indirect-slider">
                <div style="margin-top: 10px;">
                    <input type="checkbox" id="indirect-line-toggle" checked>
                    <label for="indirect-line-toggle">Funktionslinie anzeigen</label>
                </div>
            </div>
            
            <div class="values-display">
                <div>
                    <span>Arbeiter: </span>
                    <span id="indirect-value-x">1</span>
                </div>
                <div>
                    <span>Zeit (Stunden): </span>
                    <span id="indirect-value-y">8</span>
                </div>
            </div>
            
            <div class="graph-container">
                <div class="graph" id="indirect-graph">
                    <!-- Wird durch JavaScript gefüllt -->
                </div>
                <div class="x-axis" id="indirect-x-axis">
                    <span>0</span>
                    <span>1</span>
                    <span>2</span>
                    <span>4</span>
                    <span>6</span>
                    <span>8</span>
                </div>
                <div class="y-axis" id="indirect-y-axis">
                    <span>0h</span>
                    <span>2h</span>
                    <span>4h</span>
                    <span>6h</span>
                    <span>8h</span>
                </div>
            </div>
            
            <div class="tip">
                <p>Tipp: Bei indirekter Proportionalität ergibt sich eine Hyperbel im Koordinatensystem.</p>
            </div>
        </div>

        <div class="practice-problem">
            <h3>Übungsaufgabe: Indirekte Proportionalität</h3>
            <p>Eine Wasserpumpe füllt einen leeren Pool in 12 Stunden. Wie lange dauert es, wenn 3 identische Pumpen gleichzeitig arbeiten?</p>
            
            <div class="input-group">
                <label for="indirect-problem-input">Deine Antwort (in Stunden):</label>
                <input type="number" id="indirect-problem-input" step="0.1">
            </div>
            
            <button id="indirect-problem-check">Überprüfen</button>
            
            <div class="feedback" id="indirect-problem-feedback"></div>
            
            <div class="tip">
                <p>Hinweis: Bei indirekter Proportionalität bleibt das Produkt aus Anzahl der Pumpen und benötigter Zeit konstant.</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Unterschied zwischen direkter und indirekter Proportionalität</h2>
        <div class="card">
            <h3>Vergleich</h3>
            <table>
                <tr>
                    <th>Aspekt</th>
                    <th>Direkte Proportionalität</th>
                    <th>Indirekte Proportionalität</th>
                </tr>
                <tr>
                    <td>Mathematische Formel</td>
                    <td>y = k · x</td>
                    <td>y = k / x</td>
                </tr>
                <tr>
                    <td>Konstant bleibt</td>
                    <td>Verhältnis (y/x)</td>
                    <td>Produkt (x·y)</td>
                </tr>
                <tr>
                    <td>Wenn x größer wird...</td>
                    <td>wird y auch größer</td>
                    <td>wird y kleiner</td>
                </tr>
                <tr>
                    <td>Wenn x verdoppelt wird...</td>
                    <td>verdoppelt sich y</td>
                    <td>halbiert sich y</td>
                </tr>
                <tr>
                    <td>Grafische Darstellung</td>
                    <td>Gerade durch den Ursprung</td>
                    <td>Hyperbel (Kurve)</td>
                </tr>
            </table>
        </div>
        
        <div class="practice-problem">
            <h3>Übungsaufgabe: Erkennen der Art der Proportionalität</h3>
            <p>Entscheide, ob die folgenden Situationen direkte oder indirekte Proportionalität darstellen:</p>
            
            <div class="input-group">
                <label>1. Die Anzahl der Bücher und ihr Gesamtgewicht:</label>
                <select id="type-problem-1">
                    <option value="">Bitte wählen</option>
                    <option value="direkt">Direkte Proportionalität</option>
                    <option value="indirekt">Indirekte Proportionalität</option>
                </select>
            </div>
            
            <div class="input-group">
                <label>2. Die Geschwindigkeit eines Autos und die benötigte Zeit für eine feste Strecke:</label>
                <select id="type-problem-2">
                    <option value="">Bitte wählen</option>
                    <option value="direkt">Direkte Proportionalität</option>
                    <option value="indirekt">Indirekte Proportionalität</option>
                </select>
            </div>
            
            <div class="input-group">
                <label>3. Die Anzahl der Pizzastücke und die Anzahl der Personen, die davon satt werden:</label>
                <select id="type-problem-3">
                    <option value="">Bitte wählen</option>
                    <option value="direkt">Direkte Proportionalität</option>
                    <option value="indirekt">Indirekte Proportionalität</option>
                </select>
            </div>
            
            <button id="type-problem-check">Überprüfen</button>
            
            <div class="feedback" id="type-problem-feedback"></div>
        </div>
    </section>

    <div class="conclusion">
        <h2>Zusammenfassung</h2>
        <p>Herzlichen Glückwunsch! Du hast jetzt die Grundlagen der direkten und indirekten Proportionalität kennengelernt:</p>
        <ul>
            <li><strong>Direkte Proportionalität:</strong> Beide Größen ändern sich im gleichen Verhältnis in die gleiche Richtung (y = k·x).</li>
            <li><strong>Indirekte Proportionalität:</strong> Beide Größen ändern sich so, dass ihr Produkt konstant bleibt (y = k/x).</li>
        </ul>
        <p>Diese Konzepte helfen dir, viele alltägliche Zusammenhänge mathematisch zu verstehen und zu beschreiben. Proportionalität ist eine grundlegende mathematische Idee, die dir auch in anderen Bereichen wie Prozentrechnung, Algebra und Physik begegnen wird.</p>
        <p>Weiterhin viel Erfolg beim Lernen! 🚀</p>
    </div>

    <script>
        // Alle DOM-Funktionalität in window.onload packen
        window.onload = function() {
            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            
            themeToggle.addEventListener('click', () => {
                if (body.getAttribute('data-theme') === 'dark') {
                    body.removeAttribute('data-theme');
                } else {
                    body.setAttribute('data-theme', 'dark');
                }
            });
        
        // Direct proportionality example
        const directSlider = document.getElementById('direct-slider');
        const directValueX = document.getElementById('direct-value-x');
        const directValueY = document.getElementById('direct-value-y');
        const directLine = document.getElementById('direct-line');
        
        directSlider.addEventListener('input', updateDirectExample);
        
        function updateDirectExample() {
            const x = parseInt(directSlider.value);
            const y = x * 2; // 2€ per kg
            
            directValueX.textContent = x;
            directValueY.textContent = y;
            
            // Clear previous points and lines
            const oldPoints = document.querySelectorAll('#direct-graph .point');
            oldPoints.forEach(point => point.remove());
            const oldLines = document.querySelectorAll('#direct-graph .function-line');
            oldLines.forEach(line => line.remove());
            
            // Draw points to represent the line
            const graph = document.getElementById('direct-graph');
            const graphWidth = graph.offsetWidth;
            const graphHeight = graph.offsetHeight;
            
            // Draw the function line if toggle is checked
            const showLine = document.getElementById('direct-line-toggle').checked;
            if (showLine) {
                const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                svg.setAttribute("class", "function-line");
                svg.setAttribute("width", "100%");
                svg.setAttribute("height", "100%");
                svg.setAttribute("viewBox", `0 0 ${graphWidth} ${graphHeight}`);
                
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                
                // Create path for direct proportionality (y = 2x)
                let pathData = "M";
                
                for (let i = 0; i <= 10; i++) {
                    const pointX = i * (graphWidth / 10);
                    const pointY = graphHeight - (i * 2) * (graphHeight / 20);
                    
                    if (i === 0) {
                        pathData += `${pointX},${pointY}`;
                    } else if (pointY >= 0) {
                        pathData += ` L${pointX},${pointY}`;
                    }
                }
                
                path.setAttribute("d", pathData);
                path.setAttribute("stroke", "var(--primary-color)");
                path.setAttribute("stroke-width", "2");
                path.setAttribute("fill", "none");
                
                svg.appendChild(path);
                graph.appendChild(svg);
            }
            
            // Draw points for direct proportionality (y = 2x)
            for (let i = 0; i <= 10; i++) {
                const pointX = i * (graphWidth / 10);
                const pointY = graphHeight - (i * 2) * (graphHeight / 20);
                
                // Only draw points that are inside the graph
                if (pointY >= 0) {
                    const point = document.createElement('div');
                    point.className = 'point';
                    point.style.position = 'absolute';
                    point.style.width = '5px';
                    point.style.height = '5px';
                    point.style.backgroundColor = 'var(--primary-color)';
                    point.style.borderRadius = '50%';
                    point.style.left = `${pointX - 2.5}px`;
                    point.style.top = `${pointY - 2.5}px`;
                    
                    graph.appendChild(point);
                }
            }
            
            // Highlight current point
            const currentX = x * (graphWidth / 10);
            const currentY = graphHeight - y * (graphHeight / 20);
            
            if (currentY >= 0) {
                const currentPoint = document.createElement('div');
                currentPoint.className = 'point current';
                currentPoint.style.position = 'absolute';
                currentPoint.style.width = '10px';
                currentPoint.style.height = '10px';
                currentPoint.style.backgroundColor = 'var(--accent-color)';
                currentPoint.style.borderRadius = '50%';
                currentPoint.style.left = `${currentX - 5}px`;
                currentPoint.style.top = `${currentY - 5}px`;
                
                graph.appendChild(currentPoint);
            }
        }
        
        // Indirect proportionality example
        const indirectSlider = document.getElementById('indirect-slider');
        const indirectValueX = document.getElementById('indirect-value-x');
        const indirectValueY = document.getElementById('indirect-value-y');
        const indirectGraph = document.getElementById('indirect-graph');
        
        indirectSlider.addEventListener('input', updateIndirectExample);
        
        function updateIndirectExample() {
            const x = parseInt(indirectSlider.value);
            const y = 8 / x; // 8 hours for 1 worker
            
            indirectValueX.textContent = x;
            indirectValueY.textContent = y.toFixed(1);
            
            // Clear previous points and lines
            const oldPoints = indirectGraph.querySelectorAll('.point');
            oldPoints.forEach(point => point.remove());
            const oldLines = document.querySelectorAll('#indirect-graph .function-line');
            oldLines.forEach(line => line.remove());
            
            const graphWidth = indirectGraph.offsetWidth;
            const graphHeight = indirectGraph.offsetHeight;
            
            // Draw the function line if toggle is checked
            const showLine = document.getElementById('indirect-line-toggle').checked;
            if (showLine) {
                const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                svg.setAttribute("class", "function-line");
                svg.setAttribute("width", "100%");
                svg.setAttribute("height", "100%");
                svg.setAttribute("viewBox", `0 0 ${graphWidth} ${graphHeight}`);
                
                const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
                
                // Create path for indirect proportionality (y = 8/x)
                let pathData = "";
                let firstPoint = true;
                
                // Create more points for a smoother curve
                for (let i = 0.5; i <= 8; i += 0.2) {
                    const pointX = i * (graphWidth / 9);
                    const pointY = graphHeight - (8/i) * (graphHeight / 9);
                    
                    if (pointY >= 0 && pointY <= graphHeight) {
                        if (firstPoint) {
                            pathData += `M${pointX},${pointY}`;
                            firstPoint = false;
                        } else {
                            pathData += ` L${pointX},${pointY}`;
                        }
                    }
                }
                
                path.setAttribute("d", pathData);
                path.setAttribute("stroke", "var(--secondary-color)");
                path.setAttribute("stroke-width", "2");
                path.setAttribute("fill", "none");
                
                svg.appendChild(path);
                indirectGraph.appendChild(svg);
            }
            
            // Draw hyperbola points
            for (let i = 1; i <= 8; i++) {
                const pointX = i * (graphWidth / 9);
                const pointY = graphHeight - (8/i) * (graphHeight / 9);
                
                const point = document.createElement('div');
                point.className = 'point';
                point.style.position = 'absolute';
                point.style.width = '6px';
                point.style.height = '6px';
                point.style.backgroundColor = 'var(--secondary-color)';
                point.style.borderRadius = '50%';
                point.style.left = `${pointX}px`;
                point.style.top = `${pointY}px`;
                
                indirectGraph.appendChild(point);
            }
            
            // Highlight current point
            const currentX = x * (graphWidth / 9);
            const currentY = graphHeight - y * (graphHeight / 9);
            
            const currentPoint = document.createElement('div');
            currentPoint.className = 'point current';
            currentPoint.style.position = 'absolute';
            currentPoint.style.width = '10px';
            currentPoint.style.height = '10px';
            currentPoint.style.backgroundColor = 'var(--accent-color)';
            currentPoint.style.borderRadius = '50%';
            currentPoint.style.left = `${currentX - 5}px`;
            currentPoint.style.top = `${currentY - 5}px`;
            
            indirectGraph.appendChild(currentPoint);
        }
        
        // Practice problems
        const directProblemCheck = document.getElementById('direct-problem-check');
        const directProblemInput = document.getElementById('direct-problem-input');
        const directProblemFeedback = document.getElementById('direct-problem-feedback');
        
        directProblemCheck.addEventListener('click', () => {
            const answer = parseFloat(directProblemInput.value);
            const correctAnswer = 15; // 6L/100km * 250km = 15L
            
            if (Math.abs(answer - correctAnswer) < 0.1) {
                directProblemFeedback.textContent = 'Richtig! 6L/100km bedeutet einen Verbrauch von 0,06L pro km. Bei 250 km ergibt das 0,06 × 250 = 15 Liter.';
                directProblemFeedback.className = 'feedback correct';
            } else {
                directProblemFeedback.textContent = 'Nicht ganz. Versuche es noch einmal! Denk daran: Es handelt sich um direkte Proportionalität, also bleibt das Verhältnis konstant (6L/100km).';
                directProblemFeedback.className = 'feedback incorrect';
            }
            
            directProblemFeedback.style.display = 'block';
        });
        
        const indirectProblemCheck = document.getElementById('indirect-problem-check');
        const indirectProblemInput = document.getElementById('indirect-problem-input');
        const indirectProblemFeedback = document.getElementById('indirect-problem-feedback');
        
        indirectProblemCheck.addEventListener('click', () => {
            const answer = parseFloat(indirectProblemInput.value);
            const correctAnswer = 4; // 12h/3 = 4h
            
            if (Math.abs(answer - correctAnswer) < 0.1) {
                indirectProblemFeedback.textContent = 'Richtig! Wenn eine Pumpe 12 Stunden braucht, dann brauchen 3 Pumpen nur ein Drittel der Zeit: 12 ÷ 3 = 4 Stunden.';
                indirectProblemFeedback.className = 'feedback correct';
            } else {
                indirectProblemFeedback.textContent = 'Nicht ganz. Versuche es noch einmal! Bei indirekter Proportionalität ist das Produkt konstant (Anzahl Pumpen × Zeit = konstant).';
                indirectProblemFeedback.className = 'feedback incorrect';
            }
            
            indirectProblemFeedback.style.display = 'block';
        });
        
        const typeProblemCheck = document.getElementById('type-problem-check');
        const typeProblem1 = document.getElementById('type-problem-1');
        const typeProblem2 = document.getElementById('type-problem-2');
        const typeProblem3 = document.getElementById('type-problem-3');
        const typeProblemFeedback = document.getElementById('type-problem-feedback');
        
        typeProblemCheck.addEventListener('click', () => {
            const answer1 = typeProblem1.value;
            const answer2 = typeProblem2.value;
            const answer3 = typeProblem3.value;
            
            if (answer1 === '' || answer2 === '' || answer3 === '') {
                typeProblemFeedback.textContent = 'Bitte wähle bei allen Aufgaben eine Antwort aus.';
                typeProblemFeedback.className = 'feedback incorrect';
                typeProblemFeedback.style.display = 'block';
                return;
            }
            
            const correctAnswer1 = 'direkt';
            const correctAnswer2 = 'indirekt';
            const correctAnswer3 = 'direkt';
            
            let correct = 0;
            let feedback = '';
            
            if (answer1 === correctAnswer1) {
                correct++;
                feedback += '1. Richtig! Mehr Bücher = mehr Gewicht (direkte Proportionalität).<br>';
            } else {
                feedback += '1. Nicht richtig. Je mehr Bücher, desto mehr Gewicht - das ist direkte Proportionalität.<br>';
            }
            
            if (answer2 === correctAnswer2) {
                correct++;
                feedback += '2. Richtig! Höhere Geschwindigkeit = weniger Zeit (indirekte Proportionalität).<br>';
            } else {
                feedback += '2. Nicht richtig. Je schneller man fährt, desto weniger Zeit benötigt man - das ist indirekte Proportionalität.<br>';
            }
            
            if (answer3 === correctAnswer3) {
                correct++;
                feedback += '3. Richtig! Mehr Pizzastücke = mehr Personen werden satt (direkte Proportionalität).';
            } else {
                feedback += '3. Nicht richtig. Je mehr Pizzastücke, desto mehr Personen werden satt - das ist direkte Proportionalität.';
            }
            
            typeProblemFeedback.innerHTML = feedback;
            
            if (correct === 3) {
                typeProblemFeedback.className = 'feedback correct';
            } else {
                typeProblemFeedback.className = 'feedback incorrect';
            }
            
            typeProblemFeedback.style.display = 'block';
        });
        
            // Event Listeners für Slider und Checkboxen
            directSlider.addEventListener('input', updateDirectExample);
            document.getElementById('direct-line-toggle').addEventListener('change', updateDirectExample);
            
            indirectSlider.addEventListener('input', updateIndirectExample);
            document.getElementById('indirect-line-toggle').addEventListener('change', updateIndirectExample);
            
            // Initialize examples on page load
            updateDirectExample();
            updateIndirectExample();
        };
    </script>
</body>
</html>